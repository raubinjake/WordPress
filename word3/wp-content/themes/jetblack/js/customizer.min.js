jQuery(document).ready(function(n){"use strict";function r(t,e,i){return i.indexOf(t)===e}function a(t,e){var i='<div class="repeater" style="display:none"><input type="text" value="'+e+'" class="repeater-input" placeholder="https://" /><span class="dashicons dashicons-sort"></span><a class="customize-control-sortable-repeater-delete" href="#"><span class="dashicons dashicons-no-alt"></span></a></div>';t.find(".sortable").append(i),t.find(".sortable").find(".repeater:last").slideDown("slow",function(){n(this).find("input").focus()})}function i(t){var e=t.find(".repeater-input").map(function(){return n(this).val()}).toArray();t.find(".customize-control-sortable-repeater").val(e),t.find(".customize-control-sortable-repeater").trigger("change")}n("#sub-accordion-panel-jetblack_sp_sortable").sortable({items:"> li:gt(0)",axis:"y",helper:"clone",update:function(t,e){var i=n(this).sortable("toArray");n.each(i,function(t,e){i[t]=i[t].replace("accordion-section-jetblack_ss_","")}),i=(i=i.filter(r)).join(","),n("#_customize-input-jetblack_ss_order").val(i).trigger("change"),t.stopImmediatePropagation()}}),n("#accordion-section-jetblack_ss_main_content h3").unbind("click"),n(".sortable_repeater_control").each(function(){var t=n(this).find(".customize-control-sortable-repeater").val().split(","),e=t.length;if(0<e&&(n(this).find(".repeater-input").val(t[0]),1<e))for(var i=1;i<e;++i)a(n(this),t[i])}),n(this).find(".sortable_repeater.sortable").sortable({update:function(t,e){i(n(this).parent())}}),n(".sortable_repeater.sortable").on("click",".customize-control-sortable-repeater-delete",function(t){t.preventDefault(),1<n(this).parent().parent().find(".repeater").length?n(this).parent().slideUp("fast",function(){var t=n(this).parent().parent();n(this).remove(),i(t)}):(n(this).parent().find(".repeater-input").val(""),i(n(this).parent().parent().parent()))}),n(".customize-control-sortable-repeater-add").click(function(t){t.preventDefault(),a(n(this).parent(),""),i(n(this).parent())}),n(".sortable_repeater.sortable").change(function(){i(n(this).parent())}),n(".sortable_repeater.sortable").on("blur",".repeater-input",function(){var t=n(this),e=t.val();e&&!e.match(/^.+:\/\/.*/)&&t.val("https://"+e).trigger("change")}),n(".slider-custom-control").each(function(){var t=n(this).find(".customize-control-slider-value").val(),e=n(this).find(".slider"),i=parseFloat(e.attr("slider-min-value")),r=parseFloat(e.attr("slider-max-value")),a=parseFloat(e.attr("slider-step-value"));e.slider({value:t,min:i,max:r,step:a,change:function(t,e){n(this).parent().find(".customize-control-slider-value").trigger("change")}})}),n(".slider").on("slide",function(t,e){n(this).parent().find(".customize-control-slider-value").val(e.value)}),n(".slider-reset").on("click",function(){var t=n(this).attr("slider-reset-value");n(this).parent().find(".customize-control-slider-value").val(t),n(this).parent().find(".slider").slider("value",t)}),n(".customize-control-slider-value").blur(function(){var t=n(this).val(),e=n(this).parent().find(".slider"),i=parseInt(e.attr("slider-min-value")),r=parseInt(e.attr("slider-max-value"));t<i&&(t=i,n(this).val(t)),r<t&&(t=r,n(this).val(t)),n(this).parent().find(".slider").slider("value",t)}),n(".multi-image-checkbox").on("change",function(){var t,e;t=n(this).parent().parent(),e=t.find(".multi-image-checkbox").map(function(){if(n(this).is(":checked"))return n(this).val()}).toArray(),t.find(".customize-control-multi-image-checkbox").val(e).trigger("change")}),n(".customize-control-select2").select2({allowClear:!0}),n(".customize-control-select2").on("change",function(){var t=n(this).val();n(this).parent().find(".customize-control-dropdown-select2").val(t).trigger("change")}),n(".customize-control-tinymce-editor").each(function(){var t=_wpCustomizeSettings.controls[n(this).attr("id")].jetblacktinymcetoolbar1,e=_wpCustomizeSettings.controls[n(this).attr("id")].jetblacktinymcetoolbar2,i=_wpCustomizeSettings.controls[n(this).attr("id")].jetblackmediabuttons;wp.editor.initialize(n(this).attr("id"),{tinymce:{wpautop:!0,toolbar1:t,toolbar2:e},quicktags:!0,mediaButtons:i})}),n(document).on("tinymce-editor-init",function(t,e){e.on("change",function(t){tinyMCE.triggerSave(),n("#"+e.id).trigger("change")})})}),function(t){t.sectionConstructor["jetblack-upsell"]=t.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}})}((jQuery,wp.customize));